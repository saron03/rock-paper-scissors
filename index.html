<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ready to play?</title>
    </head>
    <body>
        <script>
            function getComputerChoice(){
                let choice = Math.random();
                if (choice < 0.33){
                    return "rock";
                }
                else if( choice < 0.66){
                    return "paper";
                }
                else{
                    return "scissors";
                }
            }
            function getHumanChoice(){
               let userChoice = prompt("Choose: \nrock \npaper \nscissors").toLowerCase();
               if (userChoice == "rock"){
                return "rock";
               }
               else if (userChoice == "paper"){
                return "paper";
               }
               else if (userChoice == "scissors"){
                return "scissors";
               }
               else{
                console.log("Invalid choice. Please enter rock, paper, or scissors.");
                return null;
                }
            }
            let humanScore = 0;
            let computerScore = 0;
            function playRound(humanChoice, computerChoice){
                if (humanChoice == "paper"){
                    if (computerChoice == "paper"){
                        console.log("Draw");
                    }
                    else if  (computerChoice == "rock"){
                        console.log("You win! Paper beats Rock.")
                        humanScore += 1;
                    }
                    else{
                        console.log("You win! Paper beats siccors");
                        humanScore +=1;
                    }
                }
                else if (humanChoice == "rock") {
                    if (computerChoice == "paper"){
                        console.log("You lose!Paper beats Rock");
                        computerScore +=1;
                    }
                    else if  (computerChoice == "rock"){
                        console.log("Draw!");
                    }
                    else{
                        console.log("You win! Rock beats Scissors");
                        humanScore +=1;
                    }
                }
                else if(humanChoice == "scissors"){
                    if (computerChoice == "paper"){
                        console.log("You win!Siccors beat Paper");
                        humanScore +=1;
                    }
                    else if  (computerChoice == "rock"){
                        console.log("You lose!Rock beats Scissors");
                        computerScore +=1;
                    }
                    else{
                        console.log("Draw");
                    }
                }
                
            }

            function playGame(){
                let i = 0;
                while (i < 5){
                    const humanSelection = getHumanChoice();
                    if (humanSelection === null) {
                        continue;
                    }
                    const computerSelection = getComputerChoice();
                    playRound(humanSelection, computerSelection);
                    i++;
                }

                console.log(`Final Score - You: ${humanScore}, Computer: ${computerScore}`);
                if (humanScore > computerScore){
                    console.log("Congrats you won this round");
                }
                else if (computerScore > humanScore) {
                    console.log("Boo! You lost this round:/");
                }
                else{
                     console.log("It's a draw!");
                }
                let question = prompt("Do you want to play again? (Yes/No)").toLowerCase();
                if (question === "yes"){
                    humanScore = 0;
                    computerScore = 0;
                    playGame();
                } 
                else {
                    console.log("Ok, bye!");
                }
            }
            alert("Hello there, Let's play rock paper scissors.Type 'playGame()' in the console to start the game.");
        </script>
    </body>            
</html>